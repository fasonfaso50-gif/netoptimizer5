<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NetOptimizer Pro | Enterprise Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --accent: #3b82f6;
            --bg: #0a0a0b;
            --card-bg: #111113;
            --border: #1f1f23;
            --text-secondary: #71717a;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: #f4f4f5;
            letter-spacing: -0.01em;
            overflow: hidden;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        /* Кастомный чекбокс (Switch) */
        .toggle-checkbox {
            appearance: none;
            width: 32px;
            height: 18px;
            background: #27272a;
            border-radius: 20px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .toggle-checkbox:checked {
            background: var(--accent);
        }
        .toggle-checkbox::before {
            content: '';
            position: absolute;
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .toggle-checkbox:checked::before {
            transform: translateX(14px);
        }

        /* Стильные карточки */
        .card-strict {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 6px;
            transition: border-color 0.2s ease, transform 0.2s ease;
        }
        .card-strict:hover {
            border-color: #3f3f46;
        }

        .sidebar-item {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        .sidebar-item:hover i {
            color: #f4f4f5;
        }
        .sidebar-item.active {
            color: var(--accent);
        }
        .sidebar-item.active::after {
            content: '';
            position: absolute;
            right: 0;
            top: 25%;
            height: 50%;
            width: 3px;
            background: var(--accent);
            border-radius: 4px 0 0 4px;
        }

        /* Консоль */
        .console-box {
            background: #000;
            font-size: 10px;
            line-height: 1.6;
            color: #10b981;
            border-radius: 4px;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }

        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #27272a;
            border-radius: 10px;
        }
    </style>
</head>
<body class="h-screen flex flex-col">

    <!-- Header -->
    <header class="h-14 border-b border-[#1f1f23] flex items-center justify-between px-6 bg-[#0a0a0b] shrink-0 z-50">
        <div class="flex items-center gap-4">
            <div class="w-9 h-9 overflow-hidden rounded-lg border border-[#27272a] bg-[#111113] group shadow-xl">
                <img src="https://i.pinimg.com/736x/1b/ac/96/1bac96cd70e67c3c67ffb25cd4f88da1.jpg" 
                     alt="NetOptimizer Logo" 
                     class="w-full h-full object-cover transition-transform group-hover:scale-110">
            </div>
            <div>
                <h1 class="text-xs font-bold tracking-widest uppercase">NETOPTIMIZER <span class="text-blue-500">PRO</span></h1>
                <p class="text-[9px] text-zinc-500 font-bold uppercase tracking-tighter">Enterprise Edition / v4.0.2</p>
            </div>
        </div>
        <div class="flex items-center gap-6">
            <div class="hidden md:flex gap-4 border-r border-[#1f1f23] pr-6">
                <div class="text-right">
                    <p class="text-[8px] text-zinc-500 uppercase font-bold">Traffic In</p>
                    <p class="text-[10px] mono font-bold text-blue-400">12.4 GB</p>
                </div>
                <div class="text-right">
                    <p class="text-[8px] text-zinc-500 uppercase font-bold">Traffic Out</p>
                    <p class="text-[10px] mono font-bold text-emerald-400">4.1 GB</p>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full border border-[#1f1f23] flex items-center justify-center bg-[#111113] cursor-pointer hover:bg-[#18181b]">
                    <i data-lucide="bell" class="w-4 h-4 text-zinc-400"></i>
                </div>
                <div class="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center cursor-pointer font-bold text-[10px]">JD</div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar Navigation -->
        <aside class="w-20 border-r border-[#1f1f23] flex flex-col items-center py-8 gap-8 bg-[#09090b]">
            <button onclick="switchTab('dashboard')" class="sidebar-item p-3 active" data-tab="dashboard">
                <i data-lucide="layout-dashboard" class="w-6 h-6"></i>
            </button>
            <button onclick="switchTab('network')" class="sidebar-item p-3 text-zinc-500" data-tab="network">
                <i data-lucide="network" class="w-6 h-6"></i>
            </button>
            <button onclick="switchTab('firewall')" class="sidebar-item p-3 text-zinc-500" data-tab="firewall">
                <i data-lucide="shield-check" class="w-6 h-6"></i>
            </button>
            <button onclick="switchTab('settings')" class="sidebar-item p-3 text-zinc-500" data-tab="settings">
                <i data-lucide="sliders-horizontal" class="w-6 h-6"></i>
            </button>
            <div class="mt-auto flex flex-col items-center gap-6 mb-4">
                <i data-lucide="help-circle" class="w-5 h-5 text-zinc-700 cursor-pointer hover:text-zinc-400"></i>
                <i data-lucide="log-out" class="w-5 h-5 text-red-900/50 cursor-pointer hover:text-red-500"></i>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto bg-[#0a0a0b] p-6 custom-scroll pb-24">
            
            <!-- Dashboard Tab -->
            <div id="tab-dashboard" class="fade-in space-y-6">
                <div class="flex justify-between items-end">
                    <h2 class="text-lg font-bold">Панель управления</h2>
                    <p class="text-[10px] text-zinc-500 mono uppercase tracking-widest">ID: 8829-PX-01</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="card-strict p-4 space-y-2">
                        <p class="text-[10px] text-zinc-500 font-bold uppercase">Пинг</p>
                        <div class="flex items-baseline gap-2">
                            <span id="ping-val" class="text-2xl font-bold mono">24</span>
                            <span class="text-xs text-zinc-600 font-bold">MS</span>
                        </div>
                        <div class="h-1 w-full bg-zinc-900 rounded-full overflow-hidden">
                            <div class="h-full bg-blue-500" style="width: 24%"></div>
                        </div>
                    </div>
                    <div class="card-strict p-4 space-y-2">
                        <p class="text-[10px] text-zinc-500 font-bold uppercase">Потеря пакетов</p>
                        <div class="flex items-baseline gap-2">
                            <span class="text-2xl font-bold mono text-emerald-500">0.0</span>
                            <span class="text-xs text-zinc-600 font-bold">%</span>
                        </div>
                        <div class="h-1 w-full bg-zinc-900 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-500" style="width: 2%"></div>
                        </div>
                    </div>
                    <div class="card-strict p-4 space-y-2">
                        <p class="text-[10px] text-zinc-500 font-bold uppercase">Загрузка CPU</p>
                        <div class="flex items-baseline gap-2">
                            <span id="cpu-val" class="text-2xl font-bold mono">14</span>
                            <span class="text-xs text-zinc-600 font-bold">%</span>
                        </div>
                        <div class="h-1 w-full bg-zinc-900 rounded-full overflow-hidden">
                            <div id="cpu-bar" class="h-full bg-zinc-500 transition-all duration-500" style="width: 14%"></div>
                        </div>
                    </div>
                    <div class="card-strict p-4 space-y-2">
                        <p class="text-[10px] text-zinc-500 font-bold uppercase">Память</p>
                        <div class="flex items-baseline gap-2">
                            <span class="text-2xl font-bold mono">1.2</span>
                            <span class="text-xs text-zinc-600 font-bold">GB</span>
                        </div>
                        <div class="h-1 w-full bg-zinc-900 rounded-full overflow-hidden">
                            <div class="h-full bg-purple-500" style="width: 45%"></div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="card-strict p-5 lg:col-span-2">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-[11px] font-black uppercase text-zinc-400">Сетевая активность</h3>
                            <select class="bg-transparent border-none text-[10px] font-bold text-blue-500 focus:ring-0 cursor-pointer">
                                <option>Последние 30 минут</option>
                                <option>Последние 24 часа</option>
                            </select>
                        </div>
                        <div class="h-48">
                            <canvas id="throughputChart"></canvas>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="card-strict p-5">
                            <h3 class="text-[11px] font-black uppercase text-zinc-400 mb-4">Быстрые настройки</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span class="text-xs font-medium">DNS Фильтрация</span>
                                    <input type="checkbox" checked class="toggle-checkbox">
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs font-medium">Сжатие трафика</span>
                                    <input type="checkbox" class="toggle-checkbox">
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-xs font-medium">Авто-обновление</span>
                                    <input type="checkbox" checked class="toggle-checkbox">
                                </div>
                            </div>
                        </div>
                        <div class="card-strict p-5">
                            <h3 class="text-[11px] font-black uppercase text-zinc-400 mb-4">Статус сервера</h3>
                            <div class="flex items-center gap-4">
                                <div class="w-12 h-12 rounded bg-emerald-500/10 flex items-center justify-center">
                                    <i data-lucide="server" class="w-6 h-6 text-emerald-500"></i>
                                </div>
                                <div>
                                    <p class="text-xs font-bold">MSK-NODE-01</p>
                                    <p class="text-[10px] text-zinc-500">192.168.1.45 / Online</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Console -->
                <div class="card-strict">
                    <div class="px-4 py-2 border-b border-[#1f1f23] flex justify-between items-center bg-[#151518]">
                        <span class="text-[10px] font-black uppercase text-zinc-500 tracking-tighter flex items-center gap-2">
                            <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                            Live System Output
                        </span>
                        <div class="flex gap-4">
                            <i data-lucide="terminal" class="w-3 h-3 text-zinc-600 cursor-pointer hover:text-white"></i>
                            <i data-lucide="trash-2" class="w-3 h-3 text-zinc-600 cursor-pointer hover:text-red-400"></i>
                        </div>
                    </div>
                    <div id="console" class="console-box h-32 p-4 overflow-y-auto mono custom-scroll">
                        <span class="text-zinc-600">></span> Kernel module loaded successfully.<br>
                        <span class="text-zinc-600">></span> Network interface eth0 configured...<br>
                        <span class="text-zinc-600">></span> Ready for optimization deployment.
                    </div>
                </div>
            </div>

            <!-- Network Tab -->
            <div id="tab-network" class="fade-in hidden space-y-6">
                <h2 class="text-lg font-bold">Сетевые протоколы</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card-strict p-6 space-y-6">
                        <div class="space-y-4">
                            <h3 class="text-xs font-bold uppercase text-blue-500">Оптимизация TCP</h3>
                            <div class="space-y-2">
                                <label class="text-[10px] text-zinc-500 font-bold uppercase">Алгоритм контроля перегрузки</label>
                                <select class="w-full bg-[#0a0a0b] border border-[#27272a] rounded p-3 text-xs focus:ring-1 focus:ring-blue-500 outline-none">
                                    <option>BBR v3 (Google)</option>
                                    <option>CUBIC (Стандарт)</option>
                                    <option>Hybla (Спутник)</option>
                                </select>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-zinc-900/50 rounded-lg">
                                <div>
                                    <p class="text-xs font-bold">Nagle Algorithm</p>
                                    <p class="text-[9px] text-zinc-500">Отключите для минимальной задержки</p>
                                </div>
                                <input type="checkbox" checked class="toggle-checkbox">
                            </div>
                        </div>
                    </div>
                    <div class="card-strict p-6 space-y-6">
                        <h3 class="text-xs font-bold uppercase text-purple-500">Advanced UDP</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-xs">UDP Fast Path</span>
                                <input type="checkbox" class="toggle-checkbox">
                            </div>
                            <div class="space-y-2">
                                <p class="text-[10px] text-zinc-500 uppercase font-bold">MTU Discovery</p>
                                <input type="range" class="w-full accent-blue-500 h-1 bg-zinc-800 rounded-lg appearance-none cursor-pointer" min="1280" max="1500" value="1460">
                                <div class="flex justify-between text-[10px] mono text-zinc-600">
                                    <span>1280</span>
                                    <span>1460</span>
                                    <span>1500</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Firewall Tab -->
            <div id="tab-firewall" class="fade-in hidden space-y-6">
                <h2 class="text-lg font-bold">Брандмауэр</h2>
                <div class="card-strict p-0 overflow-hidden">
                    <table class="w-full text-left text-xs">
                        <thead class="bg-[#151518] text-zinc-500 font-bold uppercase border-b border-[#1f1f23]">
                            <tr>
                                <th class="p-4">Правило</th>
                                <th class="p-4">Порт</th>
                                <th class="p-4">Тип</th>
                                <th class="p-4">Действие</th>
                                <th class="p-4">Активно</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-[#1f1f23]">
                            <tr class="hover:bg-zinc-900/30">
                                <td class="p-4 font-medium">HTTP Server</td>
                                <td class="p-4 mono">80, 443</td>
                                <td class="p-4"><span class="px-2 py-0.5 rounded bg-blue-500/10 text-blue-500 text-[9px]">INBOUND</span></td>
                                <td class="p-4 text-emerald-500 font-bold">ALLOW</td>
                                <td class="p-4"><input type="checkbox" checked class="toggle-checkbox"></td>
                            </tr>
                            <tr class="hover:bg-zinc-900/30">
                                <td class="p-4 font-medium">SSH Access</td>
                                <td class="p-4 mono">22</td>
                                <td class="p-4"><span class="px-2 py-0.5 rounded bg-blue-500/10 text-blue-500 text-[9px]">INBOUND</span></td>
                                <td class="p-4 text-emerald-500 font-bold">ALLOW</td>
                                <td class="p-4"><input type="checkbox" checked class="toggle-checkbox"></td>
                            </tr>
                            <tr class="hover:bg-zinc-900/30">
                                <td class="p-4 font-medium">P2P Block</td>
                                <td class="p-4 mono">6881-6889</td>
                                <td class="p-4"><span class="px-2 py-0.5 rounded bg-orange-500/10 text-orange-500 text-[9px]">OUTBOUND</span></td>
                                <td class="p-4 text-red-500 font-bold">DENY</td>
                                <td class="p-4"><input type="checkbox" class="toggle-checkbox"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="tab-settings" class="fade-in hidden space-y-6">
                <h2 class="text-lg font-bold">Настройки</h2>
                <div class="card-strict p-6 max-w-2xl space-y-8">
                    <div class="space-y-4">
                        <h3 class="text-xs font-bold uppercase text-zinc-500">Интерфейс</h3>
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium">Темный режим</p>
                                <p class="text-xs text-zinc-500">Автоматическая адаптация под систему</p>
                            </div>
                            <input type="checkbox" checked class="toggle-checkbox">
                        </div>
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium">Звуковые уведомления</p>
                                <p class="text-xs text-zinc-500">Сигналы при критических событиях</p>
                            </div>
                            <input type="checkbox" class="toggle-checkbox">
                        </div>
                    </div>
                    <div class="pt-6 border-t border-[#1f1f23] space-y-4">
                        <h3 class="text-xs font-bold uppercase text-zinc-500">Профиль</h3>
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-zinc-800"></div>
                            <div class="flex-1">
                                <input type="text" value="Enterprise Admin" class="w-full bg-zinc-900 border border-zinc-800 rounded p-2 text-xs outline-none focus:border-blue-500">
                            </div>
                            <button class="px-4 py-2 bg-blue-600 rounded text-xs font-bold hover:bg-blue-700">Update</button>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Optimization Bar -->
    <footer class="fixed bottom-0 left-0 right-0 p-5 border-t border-[#1f1f23] bg-[#0a0a0b] z-50 flex justify-center">
        <button id="opt-btn" onclick="runOptimization()" class="w-full max-w-4xl h-12 bg-zinc-100 text-black text-[11px] font-black uppercase tracking-[0.2em] rounded-lg flex items-center justify-center gap-3 hover:bg-white active:scale-[0.98] transition-all shadow-lg shadow-white/5">
            <i data-lucide="zap" class="w-4 h-4 fill-black"></i>
            Deploy Global Optimization
        </button>
    </footer>

    <script>
        lucide.createIcons();

        // Switch Tab functionality
        function switchTab(target) {
            const tabs = document.querySelectorAll('main > div');
            tabs.forEach(el => el.classList.add('hidden'));
            
            const targetTab = document.getElementById(`tab-${target}`);
            if (targetTab) targetTab.classList.remove('hidden');

            const sidebarButtons = document.querySelectorAll('.sidebar-item');
            sidebarButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('text-zinc-500');
            });
            
            const activeBtn = document.querySelector(`[data-tab="${target}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
                activeBtn.classList.remove('text-zinc-500');
            }
        }

        // Optimization Simulation
        function runOptimization() {
            const btn = document.getElementById('opt-btn');
            const log = document.getElementById('console');
            if (!btn || !log) return;
            
            btn.disabled = true;
            btn.innerHTML = '<span class="animate-pulse">Analyzing System Environment...</span>';
            
            const steps = [
                "Scan active interfaces... [OK]",
                "Apply BBR congestion control algorithm...",
                "Optimize socket buffer sizes (Rmem/Wmem)...",
                "Inject low-latency kernel parameters...",
                "Finalizing configuration sync...",
                "DEPLOYMENT COMPLETE: System is now optimized."
            ];

            steps.forEach((step, i) => {
                setTimeout(() => {
                    const time = new Date().toLocaleTimeString('ru-RU', {hour12: false});
                    log.innerHTML += `<span class="text-zinc-500">[${time}]</span> <span class="text-emerald-400">READY:</span> ${step}<br>`;
                    log.scrollTop = log.scrollHeight;
                }, i * 750);
            });

            setTimeout(() => {
                btn.disabled = false;
                btn.innerHTML = '<i data-lucide="check" class="w-4 h-4"></i> Optimization Active';
                btn.classList.replace('bg-zinc-100', 'bg-emerald-600');
                btn.classList.replace('text-black', 'text-white');
                lucide.createIcons();
            }, 5000);
        }

        // Charting
        const ctx = document.getElementById('throughputChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(25).fill(''),
                datasets: [{
                    label: 'Download',
                    data: Array(25).fill(0).map(() => Math.random() * 60 + 20),
                    borderColor: '#3b82f6',
                    borderWidth: 2,
                    pointRadius: 0,
                    tension: 0.4,
                    fill: true,
                    backgroundColor: 'rgba(59, 130, 246, 0.05)'
                }, {
                    label: 'Upload',
                    data: Array(25).fill(0).map(() => Math.random() * 30 + 10),
                    borderColor: '#10b981',
                    borderWidth: 2,
                    pointRadius: 0,
                    tension: 0.4,
                    fill: false
                }]
            },
            options: {
                maintainAspectRatio: false,
                scales: { 
                    y: { 
                        display: true, 
                        grid: { color: '#1f1f23' }, 
                        ticks: { color: '#3f3f46', font: { size: 8, family: 'JetBrains Mono' } } 
                    }, 
                    x: { display: false } 
                },
                plugins: { legend: { display: false } },
                animation: { duration: 0 }
            }
        });

        // Real-time Updates
        setInterval(() => {
            // Ping
            const pingEl = document.getElementById('ping-val');
            const newPing = 20 + Math.floor(Math.random() * 10);
            if (pingEl) pingEl.innerText = newPing;
            
            // CPU
            const cpuEl = document.getElementById('cpu-val');
            const cpuBar = document.getElementById('cpu-bar');
            const newCpu = 10 + Math.floor(Math.random() * 15);
            if (cpuEl) cpuEl.innerText = newCpu;
            if (cpuBar) cpuBar.style.width = newCpu + '%';

            // Chart update
            chart.data.datasets[0].data.push(Math.random() * 60 + 20);
            chart.data.datasets[1].data.push(Math.random() * 30 + 10);
            chart.data.datasets[0].data.shift();
            chart.data.datasets[1].data.shift();
            chart.update('none');
        }, 1200);

    </script>
</body>
</html>
